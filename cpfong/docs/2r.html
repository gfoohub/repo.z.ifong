<html><head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <link rel="SHORTCUT ICON" href="http://groups.google.com/groups/img/favicon.ico">
  
  <title>Google Groups: tw.bbs.comp.386bsd</title><meta name="save" content="history">
<script language="javascript"><!--
document.write('<style type="text/css">');
document.write(' .scripthide { display: none; }');
document.write(' .scriptinline { display: inline; }');
document.write(' .scriptblock { display: block; }');
document.write('</style>');
//--></script><style type="text/css"> .scripthide { display: none; } .scriptinline { display: inline; } .scriptblock { display: block; }</style><script language="javascript1.2"><!--
if (document.getElementById) {
  document.write('<style type="text/css">');
  document.write(' .script12hide { display: none; }');
  document.write(' .script12inline { display: inline; }');
  document.write(' .script12block { display: block; }');
  document.write('</style>');
}
//--></script><style type="text/css"> .script12hide { display: none; } .script12inline { display: inline; } .script12block { display: block; }</style><script language="javascript1.2"><!--
if (document.getElementById) {
  document.write('<style type="text/css">');
  document.write(' .lnav { position: absolute; }');
  document.write(' .lnavch { margin-left:23.0ex;}');
  document.write('</style>');
}
//--></script><style type="text/css"> .lnav { position: absolute; } .lnavch { margin-left:23.0ex;}</style><style type="text/css"><!--
.hide {display: none}

img {border:0}
img {border-color:#0000a0}
input.ck {margin-left:-2px}
input.bt, button.bt {padding:0 .4em 0 .4em; width:auto; overflow:visible;}
.fixed_width { font-family: fixed-width, monospace; font-size: 90%}

a:link,.w,a.w:link,.w a:link {color:#0000cc}
a:visited {color:#551a8b}
a:active {color:#f00}
.inheritcolor a {color:inherit;}

.minmaxwie { width: 100%; min-width: 260; max-width: 500; }
* html .minmaxwie { width:expression(this.parentNode.clientWidth > 260 ? (this.parentNode.clientWidth > 500 ? "500" : "100%") : "260"); }
.f,.f:link,.f a:link {color:#6f6f6f}
.fl:visited {color:#551a8b}
.fl:active {color:#f00}
.fl:link {color:#7777CC}
.z {display:none}
.on, .on:visited, .on:link {color:#0000cc}
.on:active {color:#f00000}
.don, .don:visited, .don:link { color:#0000bb}
.don:active {color:#f00000}
.q a:visited,.q a:link,.q a:active,.q {color:#0000cc}
.qo a:visited,.qo a:link,.qo a:active,.qo {color:#0000cc}
.mbody {margin-top:4px}
body,td,input,textarea,select {font-family:arial,sans-serif}
  body,td {font-size:83%}
input,textarea,select {font-size:100%}
form {margin:0px}
.tick {font-family:webdings;text-decoration:none !important}
.qr {width:100%;padding:4px;font-family:arial,sans-serif}
.nu { text-decoration:none; }
.gt { border-collapse:collapse; }
.gt td { padding: .3em 4px; border-right:1px solid #ffcc33; }
.gm td { padding: .3em 1em .3em 0px;}
.bnk { border: 1px solid #ffcc33;}
.bnk td { border-right-width:0px !important;}
.sel td.seltd {
  padding: 4px 4px 4px 4px;
  border:1px solid #ffcc33;
  border-right:none;
  font-weight: bold;
}
.al,.al:link,.al:active,.al:visited { color: #990066; }
.dal,.dal:link,.dal:active,.dal:visited { color: #880059; }
a.bl, a.bl:link, a.bl:active, a.bl:visited { color: #000; }
.ucl, .ucl:link, .ucl:active, .ucl:visited { color: #7777cc; }
.gl,.gl:link,.gl:active,.gl:visited { color: #008000; }
.groupname:link,.groupname:visited,.groupname:active,.groupname:hover { color:#008000; }
p.b { margin-bottom: 1.5em; margin-top:.3em; }
.adb, .adbrnav { border-left: 1px solid #fff4c2; }
.msgdate { color: #676767; }
.md { color: #555555; }
.st { margin-left:-1px; }
.nb { white-space:nowrap; }
.np { padding:0px; }
.p { font-weight:bold; }
.mo { margin: .5em 0 0 0 ; }
.oa { padding: 2px .5em; }
.sbox { margin-top:1em; margin-bottom:1em; }
button a:link {text-decoration:none;color:black; }
button a:hover {text-decoration:none;color:black; }
.b {font-weight:bold}
.fontsize0 {font-size:78%}
.fontsize1 {font-size:87%}
.fontsize2 {font-size:96%}
.fontsize_25 {font-size: 100%}
.fontsize3 {font-size:108%}
.fontsize4 {font-size:120%}
.fontsize5 {font-size:133%}
.fontsize6 {font-size:150%}
.fontsize7 {font-size:150%}
.cv {width:100%;}
.lk {color:#0000CC;text-decoration:underline;cursor:pointer;cursor:hand;}
.nl {padding:5 0 2 5;}
.tsh { border-top: 1px solid #ffcc33;}
.tlsh { border-top: 1px solid #ffcc33;}
.blsh { border-bottom: 1px solid #ffcc33;}
.bsh { border-bottom: 1px solid #ffcc33;}
.lsh, .tlsh, .blsh { border-left: 1px solid #ffcc33;}
.lnav { left: 9px; width: 23.0ex; overflow: hidden; }
.lnavch { }
.lnavi { font-size:100%; }
.lnavim { margin-left: -2px; }
* html .lnav { left: 11px; }
.ctl {padding-left: 2;}
.mb {padding:6 8 0 5;}
.exh {margin: 0 0 0 5; background-color:#e8e8e8;}
.exh div div {padding-top: 4px;}
.thread_star {padding:0 0 4 2}
* html .thread_star {padding:0 0 0 2}
.blurb_star {padding:0 0 0 2}
* html .blurb_star {padding:2 0 0 2}
//--></style><script language="javascript"><!--

// ----------------------------------
// used for dynamic function generation on event handlers

var loaddef = "";
var resizedef = "";

// ----------------------------------
// cross-browser functions

var IE_all_cache = new Object();
function IE_getElementById(id) {
  if (IE_all_cache[id] == null) {
    IE_all_cache[id] = document.all[id];
  }
  return IE_all_cache[id];
}

if (document.all) {
  if (!document.getElementById) {
    document.getElementById = IE_getElementById;
  }
}

//-----------------------------------
// Browser detection

var agt = navigator.userAgent.toLowerCase();

var is_opera = (agt.indexOf("opera") != -1);
var is_ie = (agt.indexOf("msie") != -1) && document.all && !is_opera;
var is_ie5 = (agt.indexOf("msie 5") != -1) && document.all;

//----------------------------------
// Timezone detection (sets cookie)

try {
  var tz_offset = (new Date()).getTimezoneOffset();
  document.cookie = 'GTZ=' + tz_offset + ';path=/;expires=Mon, 01-Jan-2024 00:00:01 GMT';
} catch(e) {}  // might not be able to set cookies through js

// ---------------------------------
// shelled functions for old javascript
function tog() {}

//--></script><script language="javascript1.2"><!--

// ----------------------------------
// visibility functions

function tog() {
  // tog: toggle the visibility of html elements (arguments[1..]) from none to
  // arguments[0].  Return what should be returned in a javascript onevent().
  display = arguments[0];
  for( var i=1; i<arguments.length; i++ ) {    
    var x = document.getElementById(arguments[i]);
    if (!x) continue;
    if (x.style.display == "none" || x.style.display == "") {
      x.style.display = display;
    } else {
      x.style.display = "none";
    }
  } 

  var e = is_ie ? window.event : this;
  if (e) {
    if (is_ie) {
      e.cancelBubble = true;
      e.returnValue = false;
      return false;
    } else {
      return false;
    }
  }
}

// ----------------------------------
// XML Http requests

function CreateXmlHttpReq(handler) {
  var xmlhttp = null;

  if (is_ie) {
    // Guaranteed to be ie5 or ie6
    var control = (is_ie5) ? "Microsoft.XMLHTTP" : "Msxml2.XMLHTTP";
    try {
      xmlhttp = new ActiveXObject(control);
    } catch(e) {
      // TODO: better help message
      alert("You need to enable active scripting and activeX controls");
      DumpException(e);
    }
  } else {
    // Mozilla
    xmlhttp = new XMLHttpRequest();
  }
  xmlhttp.onreadystatechange = function() {
    handler(xmlhttp);
  }
  return xmlhttp;
}

var uniqnum_counter = (new Date).getTime();
function UniqueNum() {
  ++uniqnum_counter;
  return uniqnum_counter;
}

// Send a (hidden, non blocking) update message to the server
// by sending a xmlhttp request
function SendServerRequest(url) {
  StartGETRequest(url, function() {});
}

// Send a request to the server
function StartGETRequest(url, handler) {
  var xmlhttp = CreateXmlHttpReq(handler);
  xmlhttp.open('GET', url + "&rand=" + UniqueNum(), true);
  xmlhttp.send(null);
}

// Send a post request to the server
function StartPOSTRequest(url, data, handler) {
  var xmlhttp = CreateXmlHttpReq(handler);
  xmlhttp.open('POST', url, true);
  xmlhttp.send(data);
}

//--></script><script language="javascript"><!--
  
    function g(){}
g.raise=function(a){if(typeof Error!="undefined"){throw new Error(a||"Assertion Failed");}else{throw a;}}
;g.fail=function(a){if(a===undefined)a="Assertion failed";if(!(u===undefined))u(a+"\n");g.raise(a)}
;g.isTrue=function(a,b){if(!a){if(b===undefined)b="Assertion failed";g.fail(b)}}
;g.equals=function(a,b,c){if(a!=b){if(c===undefined){c="AS_Assert.equals failed: <"+a+"> != <"+b+">"}g.fail(c)}}
;g.typeOf=function(a,b,c){if(typeof a==b)return;if(a||a==""){try{if(b==g.TYPE_MAP[typeof a]||a instanceof b){return}}catch(d){}}if(c===undefined){if(typeof b=="function"){var f=b.toString().match(/^\s*function\s+([^\s\{]+)/);if(f)b=f[1]}c="AS_Assert.typeOf failed: <"+a+"> not typeof "+b}g.fail(c)}
;g.TYPE_MAP={string:String,number:Number,"boolean":Boolean};g.numArgs=function(a,b){var c=g.numArgs.caller;if(c&&c.arguments.length!=a){if(b===undefined){b=c.name+" expected "+a+" arguments but received "+c.arguments.length}g.fail(b)}}
;
var s=false;function u(a){try{throw a;}catch(b){v(b)}}
function v(a,b){var c="Javascript exception: "+(b?b:"")+" "+a;if(BR_IsIE()){c+=" "+a.name+": "+a.message+" ("+a.number+")"}var d="";if(typeof a=="string"){d=a+"\n"}else{for(var f in a){try{d+=f+": "+a[f]+"\n"}catch(e){}}}d+=q(v.caller);A(c+"\n"+d,1)}
var I=/function (\w+)/;function y(a){var b=I.exec(String(a));if(b){return b[1]}return""}
function q(a){try{if(!BR_IsIE()&&!(n("safari")||n("konqueror"))&&n("mozilla")){return Error().stack}if(!a)return"";var b="- "+y(a)+"(";for(var c=0;c<a.arguments.length;c++){if(c>0)b+=", ";var d=String(a.arguments[c]);if(d.length>40){d=d.substr(0,40)+"..."}b+=d}b+=")\n";b+=q(a.caller);return b}catch(f){return"[Cannot get stack trace]: "+f+"\n"}}
var B;var k=null;var p=false;function z(){if((k==null||k.closed)&&!p){try{p=true;k=window.open("","debug","width=700,height=500,toolbar=no,resizable=yes,scrollbars=yes,left=16,top=16,screenx=16,screeny=16");k.blur();k.document.open();p=false;var a="<font color=#ff0000><b>To turn off this debugging window,hit 'D' inside the main caribou window, then close this window.</b></font><br>";r(a)}catch(b){}}}
function A(a,b){if(!s){if(typeof x!="undefined"){x(w(a))}return}try{var c=(new Date).getTime()-B;var d="["+c+"] "+w(a).replace(/\n/g,"<br>")+"<br>";if(b==1){d="<font color=#ff0000><b>Error: "+d+"</b></font>";k.focus()}r(d)}catch(f){}}
function r(a){if(!s){return}try{z();k.document.write(a);k.scrollTo(0,1000000)}catch(b){}}
;
function n(a){if(a in o){return o[a]}return o[a]=navigator.userAgent.toLowerCase().indexOf(a)!=-1}
var o={};function BR_IsIE(){return n("msie")&&!window.opera}
;function HasClass(a,b){if(a==null||a.className==null)return false;if(a.className==b){return true}var c=a.className.split(" ");for(var d=0;d<c.length;d++){if(c[d]==b){return true}}return false}
function AddClass(a,b){if(HasClass(a,b))return;a.className+=" "+b}
function RemoveClass(a,b){if(a.className==null)return;if(a.className==b){a.className="";return}var c=a.className.split(" ");var d=[];var f=false;for(var e=0;e<c.length;e++){if(c[e]!=b){if(c[e]){d.push(c[e])}}else{f=true}}if(f){a.className=d.join(" ")}}
function GetPageOffsetLeft(a){var b=a.offsetLeft;if(a.offsetParent!=null)b+=GetPageOffsetLeft(a.offsetParent);return b}
function GetPageOffsetTop(a){var b=a.offsetTop;if(a.offsetParent!=null)b+=GetPageOffsetTop(a.offsetParent);return b}
;var E=/&/g;var K=/</g;var J=/>/g;function w(a){if(!a)return"";return a.replace(E,"&amp;").replace(K,"&lt;").replace(J,"&gt;").replace(L,"&quot;")}
var L=/\"/g;function G(a){return document.getElementById(a)}
function H(a){return document.all[a]}
var F=document.getElementById?G:H;function x(a){try{if(window.parent!=window&&window.parent.log){window.parent.log(window.name+"::"+a);return}}catch(b){}var c=F("log");if(c){var d="<p class=logentry><span class=logdate>"+new Date+"</span><span class=logmsg>"+a+"</span></p>";c.innerHTML=d+c.innerHTML}else{window.status=a}}
;
Function.prototype.bind=function(a){if(typeof this!="function"){throw new Error("Bind must be called as a method of a function object.");}var b=this;var c=Array.prototype.splice.call(arguments,1,arguments.length);return function(){var d=c.concat();for(var f=0;f<arguments.length;f++){d.push(arguments[f])}return b.apply(a,d)}
}
;
var listen;var unlisten;(function(){var a={};var b=0;function c(e){if(!e.d){e.d=++b}return e.d}
function d(e,h,m,j){var i=c(e);var l=c(m);j=!(!j);var D=i+"_"+h+"_"+l+"_"+j;return D}
listen=function(e,h,m,j){var i=d(e,h,m,j);if(i in a){return i}var l=f.bind(null,i);a[i]={listener:m,proxy:l};if(e.addEventListener){e.addEventListener(h,l,j)}else if(e.attachEvent){e.attachEvent("on"+h,l)}else{throw new Error("Node {"+e+"} does not support event listeners.");}return i}
;unlisten=function(e,h,m,j){var i=d(e,h,m,j);if(!(i in a)){return false}var l=a[i].proxy;if(e.removeEventListener){e.removeEventListener(h,l,j)}else if(e.detachEvent){e.detachEvent("on"+h,l)}delete a[i];return true}
;function f(e){var h=Array.prototype.splice.call(arguments,1,arguments.length);return a[e].listener.apply(null,h)}
}
)();
function t(a,b,c){this.b=b;if(c){this.a=[];for(var d=0;d<a.length;d++){this.a.push(c+a[d])}}else{this.a=a}}
t.prototype.load=function(a){this.e=a;this.c=0;var b=this.b.getElementsByTagName("head")[0];for(var c=0;c<this.a.length;c++){var d=this.b.createElement("script");d.type="text/javascript";d.onload=this.f.bind(this);d.src=this.a[c];b.appendChild(d)}}
;t.prototype.f=function(){this.c++;if(this.c==this.a.length&&this.e){this.e()}}
;
function C(a){var b=document.getElementById("create_new_page_form");if(typeof a!="undefined"){var c=b.getElementsByTagName("input");for(var d=0;d<c.length;d++){if(c[d].name=="name"){c[d].value=a}}}b.submit()}
var _G2_CreateNewPage=C;


  
//--></script><script language="javascript1.2"><!--

//--></script><script language="javascript"><!--
function ad_resize() {}
function if_resize() {}
function fin_resize() {}
function qs() {}
//--></script><script language="javascript1.2"><!--
function if_resize(name, w, h) {
  if (document.getElementById && document.getElementById(name)){
    document.getElementById(name).style.height = h + "px";
    document.getElementById(name).style.width = w + "px";
  }
}
function ad_resize(w, h) {
  if_resize("google_ads_frame",w,h);
}
function fin_resize(w, h) {
  if_resize("google_finance_frame",w,h);
}

//--></script><link rel="alternate" type="application/rss+xml" title="RSS" href="http://groups.google.com/group/tw.bbs.comp.386bsd/feed/rss_v2_0_msgs.xml"><link rel="alternate" type="application/atom+xml" title="Atom" href="http://groups.google.com/group/tw.bbs.comp.386bsd/feed/atom_v1_0_msgs.xml"></head>

<noscript><style type="text/css"><!--
.noscripthide { display:none; }
.noscriptinline { display:inline; }
.noscriptblock { display:block; }
//--></style></noscript>










  
  
<body onresize="" onload="" topmargin="3" bgcolor="white" marginheight="3"><div class="topbar"><table border="0" cellpadding="0" cellspacing="0" width="100%">
  <tbody><tr valign="middle">
  <td align="right" nowrap="nowrap"><font size="-1"><nobr>
	 <a href="http://groups.google.com/?hl=zh-TW">群組首頁</a> |
  <a target="_blank" href="http://groups.google.com/support?hl=zh_TW">說明</a> |
	 <a target="_top" href="https://www.google.com/groups/signin?cd=US&amp;hl=zh-TW&amp;_done=http%3A%2F%2Fgroups.google.com%2Fgroup%2Ftw.bbs.comp.386bsd%2Fmsg%2Fe724a84e1ee2158c%3Fq%3Dipfw%2Bgslin%2Bpolicy%2Broute%26hl%3Dzh-TW%26rnum%3D1">登入</a>
  </nobr></font></td>
  </tr>
  <tr height="4"><td><img src="2r_files/dot_clear.gif" alt="" height="1" width="1"></td></tr>
</tbody></table></div>
<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
  <td valign="top" width="150">
  <a href="http://groups.google.com/?hl=zh-TW"><img src="2r_files/groups_medium_zh-TW.gif" alt="Go to Google Groups Home" style="" border="0" height="58" vspace="3" width="150"></a>
</td>
<td>  </td>
<td valign="top">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tbody><tr>
  <td height="14" valign="bottom">
  <script><!--
function qs(el) {if (window.RegExp && window.encodeURIComponent) {var ue=el.href;var qe=encodeURIComponent(document.gs.q.value);if(ue.indexOf("q=")!=-1){el.href=ue.replace(new RegExp("q=[^&$]*"),"q="+qe);}else{el.href=ue+"&q="+qe;}}return 1;}
// -->
</script><table border="0" cellpadding="4" cellspacing="0"><tbody><tr><td nowrap="nowrap"><font size="-1"><a class="q" href="http://www.google.com/search?q=ipfw+gslin+policy+route&amp;hl=zh-TW&amp;rnum=1&amp;sa=N&amp;tab=gw" onclick="return qs(this);">所有網頁</a>    <a class="q" href="http://images.google.com/images?q=ipfw+gslin+policy+route&amp;hl=zh-TW&amp;rnum=1&amp;sa=N&amp;tab=gi" onclick="return qs(this);">圖片</a>    <a class="q" href="http://news.google.com/news?q=ipfw+gslin+policy+route&amp;hl=zh-TW&amp;rnum=1&amp;sa=N&amp;tab=gn" onclick="return qs(this);">新聞</a>    <b>網上論壇</b>    </font></td></tr></tbody></table>
</td>
</tr>
<tr>
<td>
<form name="gs" method="get" action="/groups/search">
<table border="0" cellpadding="0" cellspacing="0">
<tbody><tr>
<td nowrap="nowrap"><font size="-1">
<input name="hl" value="zh-TW" type="hidden">
<input name="q" size="41" maxlength="2048" value="ipfw gslin policy route" type="text"><font size="-1">
  <input name="qt_s" value="搜尋" type="submit"></font></font></td>
  <td nowrap="nowrap"><font size="-2">  <a href="http://groups.google.com/advanced_search?q=&amp;hl=zh-TW&amp;"><nobr>進階群組搜尋</nobr></a><br>  <a href="http://www.google.com/preferences?hl=zh-TW&amp;prev=http://groups.google.com%2Fgroup%2Ftw.bbs.comp.386bsd%2Fmsg%2Fe724a84e1ee2158c%3Fq%3Dipfw%2Bgslin%2Bpolicy%2Broute%26hl%3Dzh-TW%26rnum%3D1">偏好設定</a></font>
</td>
</tr>
</tbody></table>
</form>
</td>
</tr>
</tbody></table>
</td>
</tr>
</tbody></table>
<script language="javascript"><!--
// Make functions exist for older browsers
function toggle_watch() {}
function toggleStar() {}
//--></script>
<script language="javascript1.2"><!--

function toggleHandler(xmlhttp) {
  if (xmlhttp.readyState != 4) return;
  if (xmlhttp.status != 200) return;
  eval('resp = '+ xmlhttp.responseText)
  if (resp.length < 1) return;
  if ((resp[0] != 100) || (resp.length != 3)) return;
  var idstr = "watch" + resp[1] + "@" + resp[2]
  var tog = document.getElementsByName(idstr)
  var img = document.getElementsByName(idstr + "_img")

  for (var x=0;x<tog.length;x++) {
    tog[x].setAttribute("value", 0)
    img[x].src = '/groups/img/watched_n.gif'
    tog[x].blur();
  }
}

var starTooltips = [ "按一下星號觀看此主題","觀看此主題","點擊信封以接收最新消息電子郵件","透過電子郵件接收最新消息串連", ]

function table_width() {
   var final_width = document.body.clientWidth - 250;
}




function RAT_RatingHolder(docid,rating,savedText) {
  this.id = "rating_holder_"+docid;
  this.rating = rating;
  this.text = savedText;
}


var RAT_currentRH = null;


function RAT_myMouseUp() {
    RAT_currentRH = null;
    document.body.parentNode.onmouseup = null;
}


function RAT_startTrackingStars(docid, position, rh) {
   RAT_currentRH = rh;
   document.body.parentNode.onmouseup = RAT_myMouseUp;
      
   RAT_lightStars(docid, position);
}


function RAT_mouseMove(event) {
   if (is_ie && RAT_currentRH != null && event.button == 0) {
      RAT_myMouseUp();
   }
}


function RAT_mouseUpInStar(addr, docid, rating, rh, token) {
   // we're in the star group the mouse went down in, so save rating
   if (RAT_currentRH != null && RAT_currentRH == rh) {
      RAT_lightStars(docid, rating);
      RAT_submitRating(addr, docid, rating, rh, token);
      RAT_currentRH = null;
   }
}


function RAT_submitRating(addr, docid, rating, rh, token) {
   SendServerRequest("/group/"+addr+"/ratings?did="+docid+"&rat="+rating+"&tok="+token);
   rh.rating = rating;
   rh.text = "評等已儲存";

   //change text back
   var textbox = document.getElementById("ratings_text_"+docid);   
   textbox.innerHTML = rh.text;
   if (rh.text == "Text for clearing space") {
     textbox.style.display = "none";
   }
}


function RAT_hesitateStars(docid, position, rh) {
   // don't highlight other stars if tracking a star group with mouse down
   if (RAT_currentRH != null && RAT_currentRH != rh)
      return;
   // mouse is down in a star group and we're tracking a star group
   // show the solid stars as user mouses over them
   if (RAT_currentRH != null && RAT_currentRH == rh) {
       RAT_lightStars(docid, position);
   } else {
     // mouse is not down, highlight with hollow stars on top of
     // existing solid stars
      for (i=1;i<=position;i++) {
        document.getElementById("s"+i+"_"+docid+"_img").src = '/groups/img/yellow_star_lite.gif';
      }
   }
   
   //change text
   var textbox = document.getElementById("ratings_text_"+docid);
   textbox.style.display = "inline";
   switch (position) {
     case "1":
       textbox.innerHTML = "很差，我不會推薦這篇留言。";
       break;
     case "2":
       textbox.innerHTML = "低於平均值";
       break;
     case "3":
       textbox.innerHTML = "平均值";
       break;
     case "4":
       textbox.innerHTML = "高於平均值";
       break;
     case "5":
       textbox.innerHTML = "極佳，我推薦這篇留言。";
       break;
     default:
       break;
   }
}


function RAT_unhesStars(docid, position, rh) {
   // update stars to reflect value before tracking began
   RAT_lightStars(docid, rh.rating);

   //change text back
   var textbox = document.getElementById("ratings_text_"+docid);   
   textbox.innerHTML = rh.text;
   if (rh.text == "Text for clearing space") {
     textbox.style.display = "none";
   }
}





function RAT_lightStars(docid, position) {
   for (i=1;i<=5;i++) {
     if(i <= position){
        document.getElementById("s"+i+"_"+docid+"_img").src = '/groups/img/yellow_star_blue_outline.gif';
     } else {
        document.getElementById("s"+i+"_"+docid+"_img").src = '/groups/img/clear_star_blue_outline.gif';
     }
   }
}


function toggleStar(addr, thread_id, action) {
  var watch_idstr = "watch" + addr + "@" + thread_id
  
  var watch_tog = document.getElementsByName(watch_idstr)
  var watch_img = document.getElementsByName(watch_idstr + "_img")

  var ts_idstr = "threadsub" + addr + "@" + thread_id
  
  var ts_tog = document.getElementsByName(ts_idstr)
  var ts_img = document.getElementsByName(ts_idstr + "_img")
  var ts_lnk0 = document.getElementsByName(ts_idstr + "_lnk0")
  var ts_lnk2 = document.getElementsByName(ts_idstr + "_lnk2")

  if (watch_tog.length < 1) {
    
    return false; 
  }
  
  try {
    watch_state = parseInt(watch_tog[0].getAttribute("value"));
  } catch (e) {
    watch_state = 1
  }

  if (ts_tog.length < 1) {
    
    if (action == 2) {
      
      return false; 
    }
  }

  
  try {
    ts_state = parseInt(ts_tog[0].getAttribute("value"));
  } catch (e) {
    ts_state = 0
  }

  
  if (action == 1) {
    for (var x=0;x<watch_tog.length;x++) {
      if (watch_state == 0) {
        watch_newstate = 1

        
        watch_tog[x].setAttribute("value", 1)
        watch_img[x].src = '/groups/img/watched_y.gif'
        watch_img[x].title = starTooltips[1]
      } else {
        watch_newstate = 0

        
        watch_tog[x].setAttribute("value", 0)
        watch_img[x].src = '/groups/img/watched_n.gif'
        watch_img[x].title = starTooltips[0]
      }

      watch_tog[x].blur();
    }
  } else {
    for (var x=0;x<ts_tog.length;x++) {
      if (ts_state == 0) {
        ts_newstate = 1

        
        ts_tog[x].setAttribute("value", 1)
        if (ts_img.length > x) ts_img[x].src = '/groups/img/threadsub_y.gif'
  if (ts_img.length > x) ts_img[x].title = starTooltips[3]
  if (ts_lnk0.length > x) ts_lnk0[x].style.display = ""
  if (ts_lnk2.length > x) ts_lnk2[x].style.display = "none"
  } else {
  ts_newstate = 0
  ts_tog[x].setAttribute("value", 0)
  if (ts_img.length > x) ts_img[x].src = '/groups/img/threadsub_n.gif'
  if (ts_img.legnth > x) ts_img[x].title = starTooltips[2]
  if (ts_lnk0.length > x) ts_lnk0[x].style.display = "none"
  if (ts_lnk2.length > x) ts_lnk2[x].style.display = ""
  }
  ts_tog[x].blur();
  }
  }
  oldstate = 2 * ts_state + watch_state
  uri = "/group/" + addr + "/watch_topic?Action.JS=1&tid=" + thread_id +
	"&oldstate=" + oldstate + "&email=" + (action == 2 ? "1" : "0")
  StartGETRequest(uri, toggleHandler)
  var e = is_ie ? window.event : this;
  if (e) {
  if (is_ie) {
  e.cancelBubble = true;
  e.returnValue = false;
  }
  }
  return false;
}
function toggle_watch(addr, gid, thread_id) {
  var idstr = "watch" + gid + "_" + thread_id
  var tog = document.getElementsByName(idstr)
  var img = document.getElementsByName(idstr + "_img")
  if (tog.length < 1) {
    
    return; // bad!
  }
  try {
    state = parseInt(tog[0].getAttribute("value"));
  } catch (e) {
    state = 1
  }
  for (var x=0;x<tog.length;x++) {
    if (state == 1) {
      tog[x].setAttribute("value", 0)
      img[x].src = '/groups/img/watched_n.gif'
    } else {
      tog[x].setAttribute("value", 1)
      img[x].src = '/groups/img/watched_y.gif'
    }
    tog[x].blur();
  }

  
  uri = "/group/" + addr + "/watch_topic?Action.JS=1&tid=" + thread_id + 
	"&oldstate=" + state + "&email=0"
  SendServerRequest(uri);

  
  if (state == 1) {
    SendServerRequest("/groups/passive?Action.watch=1&q=" + idstr + ":off");
  } else {
    SendServerRequest("/groups/passive?Action.watch=1&q=" + idstr + ":on");
  }

  var e = is_ie ? window.event : this;
  if (e) {
    if (is_ie) {
      e.cancelBubble = true;
      e.returnValue = false;
      return false;
    } else {
      return false;
    }
  }
  return false;
}

//--></script>
<script language="javascript"><!--
// Shelled functions for javascript compatibility
function c() {}
function op() {}
function rl() {}
function tog_quote() {}
//--></script>
<script language="javascript1.2"><!--

function c( idnum ) {	//cancel a message -- clear text and toggle the reply box. slight delay gives user time to perceive that text is being cleared.
  document.getElementById( 't'+idnum ).value="";
  func = "rl( '" + idnum + "' )";
  window.setTimeout( func, 300 );
}

function op( idnum )  // hide/show headers
{
  optionLink = document.getElementById( 'o'+idnum );
  x = tog('block', 'h'+idnum );
  for (var i = 1; i < 4; i++) {
    tog(is_ie ? 'block' : 'table-row', 'htr' + i + '_' + idnum );
  }
  if( optionLink.innerHTML == "顯示選項" ) 
  {
    optionLink.innerHTML = "隱藏選項";
  } else {
    optionLink.innerHTML = "顯示選項";
  }
  optionLink.blur();
  return x;
}

function rl( idnum ) {  //function to toggle "reply" link; gets rid of annoying linkfocus & toggles ticks
  replyblockid = 'r' + idnum;
  textareaObj = document.getElementById( 't'+idnum );
  linkobj = document.getElementById( 'lo'+idnum );
  x = tog('block', replyblockid);
  visible = document.getElementById( replyblockid ).style.display;
  tick = document.getElementById( 'ti'+idnum );
  if( visible == "none" ) {
    linkobj.blur();
    tick.src = "/groups/img/r.gif";
  } else {
    textareaObj.focus();
    tick.src = "/groups/img/d.gif";
  }
  return x;
}

function tog_quote( idnum ) {
  return tog( 'block', 'qheader_shown_' + idnum, 'qheader_hidden_' + idnum,
	   'qhide_' + idnum );
}

//--></script>
<div style="padding-top: 5px;">
  <table class="" style="padding: 2px 0px 3px;" bgcolor="#fff4c2" cellpadding="0" cellspacing="0" width="100%"><tbody>
  <tr>
  <td width="4"></td>
  <td>
  <span class="fontsize3 gl">
  <b><a href="http://groups.google.com/group/tw.bbs.comp.386bsd?hl=zh-TW" class="gl">tw.bbs.comp.386bsd</a>
</b>
  </span>
  <b>
  &gt; <a href="http://groups.google.com/group/tw.bbs.comp.386bsd/browse_thread/thread/f572d74b1b884379/e724a84e1ee2158c?&amp;hl=zh-TW#e724a84e1ee2158c">雙網卡的route default</a>
  </b>
  </td>
  </tr>
  </tbody></table>
<table style="width: 232px;" id="rn" align="right" border="0" cellpadding="0" cellspacing="0">
  <tbody><tr valign="top">
  <td style="width: 2px;"><img src="2r_files/dot_clear.gif" height="450" width="1"></td>
  <td style="width: 230px; padding-top: 10px;">
  <table border="0" cellpadding="3" cellspacing="3"><tbody><tr>
  <td>
  <table border="0" cellpadding="2" cellspacing="0" width="100%">
  <tbody><tr>
  <td align="right">
  <a class="fixed_width" href="http://groups.google.com/group/tw.bbs.comp.386bsd/msg/e724a84e1ee2158c?q=ipfw+gslin+policy+route&amp;hl=zh-TW&amp;rnum=1&amp;fwc=1">固定字型</a> - <b>比例字型</b>
  </td>
  </tr>
  </tbody></table>
  </td></tr></tbody></table>
  <div>
  <iframe name="google_ads_frame" id="google_ads_frame" src="2r_files/adfetch.html" style="height: 276px; width: 230px;" allowtransparency="true" frameborder="0" scrolling="no"></iframe>
  </div>
</td></tr>
</tbody></table>
  <div style="padding-left: 1ex; padding-top: 1px;">
  <table border="0" cellpadding="0" cellspacing="0"></table>
  <div style="padding: 5px 0px;">
  <table border="0" cellpadding="0" cellspacing="0">
  <tbody><tr>
  <td><img src="2r_files/dot_clear.gif" height="1" width="2"></td>
  <td width="100%">
  <div class="minmaxwie" style="border-left: 3px solid rgb(0, 104, 28); background-color: rgb(246, 246, 246);">
  <div style="border-top: 1px solid rgb(232, 232, 232); border-bottom: 1px solid rgb(239, 239, 239); padding: 3px 0pt 3px 2px; width: 100%; background-color: rgb(246, 246, 246);">
  <div id="headerboxe724a84e1ee2158c" style="float: left; overflow: visible;">
  <table id="hdropenede724a84e1ee2158c" border="0" cellpadding="1" cellspacing="0">
  <tbody><tr valign="top">
  <td width="25"><nobr><b class="msghk">寄件人：</b></nobr></td><td width="2"></td>
  <td colspan="2"><span class="msghv"><b><font class="inheritcolor" color="#00681c">
Gea-Suan Lin</font></b> - <nobr><a href="http://groups.google.com/groups/profile?enc_user=C7qZ9iYAAACf96DNfU2zIE-SZmN-MJ_tX_37rmD3kDDaJ2aMVqILUkwMxWuwWqGIJhdrJ0wAyvw&amp;hl=zh-TW" target="_top">檢視個人簡介</a></nobr></span></td>
  </tr>
  <tr valign="top">
  <td width="25"><nobr><b class="msghk">日期：</b></nobr></td><td width="2"></td>
  <td><span class="msghv">2001年10月14日(星期日) 下午2時01分</span></td>
  </tr>
  <tr class="scripthide" id="htr1_e724a84e1ee2158c" valign="top">
  <td width="25"><nobr><b class="msghk">電郵地址： </b></nobr></td><td width="2"></td>
  <td><span class="msghv">Gea-Suan Lin &lt;g<a target="_parent" href="http://groups.google.com/groups/unlock?msg=e724a84e1ee2158c&amp;hl=zh-TW&amp;_done=/group/tw.bbs.comp.386bsd/msg/e724a84e1ee2158c%3Fq%3Dipfw%2Bgslin%2Bpolicy%2Broute%26hl%3Dzh-TW%26rnum%3D1">...</a>@Infomath.remove.math.NCTU.edu.tw&gt;</span></td>
  </tr>
  <tr class="scripthide" id="htr2_e724a84e1ee2158c" valign="top">
  <td width="25"><nobr><b class="msghk">群組： </b></nobr></td><td width="2"></td>
  <td><span class="msghv">tw.bbs.comp.386bsd</span></td>
  </tr>
  </tbody></table>
  </div>
  <div id="ratingse724a84e1ee2158c" style="float: right; padding-left: 2px;">
  <table border="0" cellpadding="0" cellspacing="1">
  <tbody><tr valign="top">
  <td><div style="position: absolute;"><nobr><font color="#555555"><span class="msghv">尚未評比</span></font></nobr></div><font style="visibility: hidden;" color="#f6f6f6"><span class="msghv">評等：</span></font></td><td width="120"> 
  </td></tr>
  <tr>
  <td colspan="3" nowrap="nowrap"><span class="noscripthide msghv"><a href="#" id="oe724a84e1ee2158c" onclick="return op('e724a84e1ee2158c');">顯示選項</a></span>
  </td></tr>
  </tbody></table>
  </div>
  <div style="clear: both;"></div>
  <div id="he724a84e1ee2158c" class="scripthide">
  <table border="0" cellpadding="1" cellspacing="0" width="100%">
  <tbody><tr>
  <td><font class="fontsize2">
  <nobr><a target="_top" href="http://groups.google.com/group/tw.bbs.comp.386bsd/post?hl=zh-TW&amp;inreplyto=e724a84e1ee2158c&amp;reply_to=group&amp;_done=%2Fgroup%2Ftw.bbs.comp.386bsd%2Fmsg%2Fe724a84e1ee2158c%3Fq%3Dipfw+gslin+policy+route%26hl%3Dzh-TW%26rnum%3D1%26&amp;">回覆</a></nobr> |
  <nobr><a target="_top" href="http://groups.google.com/group/tw.bbs.comp.386bsd/post?hl=zh-TW&amp;inreplyto=e724a84e1ee2158c&amp;reply_to=author&amp;_done=%2Fgroup%2Ftw.bbs.comp.386bsd%2Fmsg%2Fe724a84e1ee2158c%3Fq%3Dipfw+gslin+policy+route%26hl%3Dzh-TW%26rnum%3D1%26&amp;">回覆作者</a></nobr>
  | <nobr><a target="_top" href="http://groups.google.com/group/tw.bbs.comp.386bsd/post?hl=zh-TW&amp;inreplyto=e724a84e1ee2158c&amp;forward=1&amp;_done=%2Fgroup%2Ftw.bbs.comp.386bsd%2Fmsg%2Fe724a84e1ee2158c%3Fq%3Dipfw+gslin+policy+route%26hl%3Dzh-TW%26rnum%3D1%26&amp;">轉寄</a></nobr>
  | <nobr><a target="_blank" href="http://groups.google.com/group/tw.bbs.comp.386bsd/msg/e724a84e1ee2158c?dmode=print&amp;hl=zh-TW">列印</a></nobr>
  | <nobr><a href="http://groups.google.com/group/tw.bbs.comp.386bsd/msg/e724a84e1ee2158c?hl=zh-TW&amp;" target="_parent">顯示個別留言</a></nobr>
  | <nobr><a target="_blank" href="http://groups.google.com/group/tw.bbs.comp.386bsd/msg/e724a84e1ee2158c?dmode=source&amp;hl=zh-TW">顯示原始檔</a></nobr>
  | <nobr><a target="_blank" href="http://groups.google.com/groups/abuse?hl=zh-TW&amp;group=tw.bbs.comp.386bsd&amp;url=http%3A%2F%2Fgroups.google.com%2Fgroup%2Ftw.bbs.comp.386bsd%2Fmsg%2Fe724a84e1ee2158c">舉報濫用行爲</a></nobr>
  | <nobr><a href="http://groups.google.com/groups/search?enc_author=C7qZ9iYAAACf96DNfU2zIE-SZmN-MJ_tX_37rmD3kDDaJ2aMVqILUkwMxWuwWqGIJhdrJ0wAyvw&amp;scoring=d&amp;hl=zh-TW" target="_top">尋找此作者的訊息</a></nobr>
  </font></td>
  </tr>
  </tbody></table>
  </div>
  </div>
  </div>
  <div class="mbody" id="mbodye724a84e1ee2158c">
  <p>
  </p><div style="padding-left: 6px;">
  <a name="msg_e724a84e1ee2158c"></a><p></p><div id="qhide_72540" style="display: block;" class="qt">YZX &lt;YZX.<a target="_parent" href="http://groups.google.com/groups/unlock?msg=e724a84e1ee2158c&amp;hl=zh-TW&amp;_done=/group/tw.bbs.comp.386bsd/msg/e724a84e1ee2158c%3Fq%3Dipfw%2Bgslin%2Bpolicy%2Broute%26hl%3Dzh-TW%26rnum%3D1">...</a>@snow.ice.ntnu.edu.tw&gt; wrote: <br> &gt; 天涯一孤客 &lt;tsRu.<a target="_parent" href="http://groups.google.com/groups/unlock?msg=e724a84e1ee2158c&amp;hl=zh-TW&amp;_done=/group/tw.bbs.comp.386bsd/msg/e724a84e1ee2158c%3Fq%3Dipfw%2Bgslin%2Bpolicy%2Broute%26hl%3Dzh-TW%26rnum%3D1">...</a>@snow.ice.ntnu.edu.tw&gt; wrote: <br> &gt;&gt; 謝謝又勞您解答， <br> &gt;&gt; 　只是不想動用到<b style="color: black; background-color: rgb(255, 255, 102);">ipfw</b>，您的設定與我的需求好像也略有差異， <br> &gt;&gt; 　目前的困擾在於不能二組IP均能由外部正常連進來， <br> &gt;&gt; 只有設成defaultrouter　的IP才可以，原因還不大了解；你的應該是 <br> &gt;&gt; 是出去的設定吧，我要進來的哦！ <br> &gt; 原因就是無論用什麼 IP 進來的，都是掛 defaultroute 的 IP 出去 <br> <br></div>這句話是對的，在沒有設 static <b style="color: black; background-color: rgb(255, 153, 153);">route</b> 或是用 <b style="color: black; background-color: rgb(255, 255, 102);">ipfw</b> 做 <b style="color: black; background-color: rgb(153, 255, 153);">policy</b> routing 時，都 <br> 會走 default gateway。 <br> <p></p><div id="qhide_72541" style="display: block;" class="qt">&gt; 所以 reply 時的 src IP Address 不一定等於人家 request 時的 dst IP Address <br> &gt; 這樣 connection 當然就建不起來了。 <br> <br></div>這句話是錯的，對方連到你的某個 ip，你就會用那個 ip 跟對方建立連線。 <br> <p></p><div id="qhide_72542" style="display: block;" class="qt">&gt; 解法最簡單的就是用 <b style="color: black; background-color: rgb(255, 255, 102);">ipfw</b> fwd。 <br> <br></div>source ip 不是 kernel 幫你決定的，是 application 要自己用 bind() 決定， <br> 只是你不指定的時候會用 default ip 連線而已。 <br> <p>假設現在有一台機器 (實際上也的確有這台機器) 同時有 TANet &amp; HiNet 的 IP， <br> 他的兩個 IP &amp; Gateway 分別是： <br> </p><p>* 211.72.48.2 (Netmask: 255.255.255.248, Gateway: 211.72.48.1) <br>   HiNet's ADSL IP，同時他的 IP &amp; Gateway 也是這台機器的 default IP &amp; <br>   default Gateway。 <br> </p><p>* 140.113.54.13 (Netmask: 255.255.255.0, Gateway: 140.113.54.254) <br>   TANet's IP。 <br> </p><p>我要連到 <a target="_blank" href="http://www.nctu.edu.tw/">www.nctu.edu.tw</a> &amp; <a target="_blank" href="http://www.google.com,/">www.google.com，</a>在 <b style="color: black; background-color: rgb(255, 255, 102);">ipfw</b> 不設定的情況下，兩者 <br> 走的路線都是： <br> </p><p>(過去的 packets) <br> 211.72.48.2 -&gt; 211.72.48.1 -&gt; ... (HiNet's Backbone) ... -&gt; NCTU <br> 211.72.48.2 -&gt; 211.72.48.1 -&gt; ... (HiNet's Backbone) ... -&gt; Google <br> </p><p>(回來的 packets) <br> NCTU -&gt; ... (HiNet's Backbone) ... -&gt; 211.72.48.1 -&gt; 211.72.48.2 <br> Google -&gt; ... (HiNet's Backbone) ... -&gt; 211.72.48.1 -&gt; 211.72.48.2 <br> </p><p>如果我在 connect() 前用 bind() 讓連線到 <a target="_blank" href="http://www.nctu.edu.tw/">www.nctu.edu.tw</a> 的 source IP 是 <br> 140.113.54.13，那麼： <br> </p><p>(過去的 packets) <br> 140.113.54.13 -&gt; 211.72.48.1 -&gt; ... (HiNet's Backbone) ... -&gt; NCTU <br> 211.72.48.2 -&gt; 211.72.48.1 -&gt; ... (HiNet's Backbone) ... -&gt; Google <br> </p><p>(回來的 packets) <br> NCTU -&gt; ... (交大校內 Backbone) ... -&gt; 140.113.54.254 -&gt; 140.113.54.13 <br> Google -&gt; ... (HiNet's Backbone) ... -&gt; 211.72.48.1 -&gt; 211.72.48.2 <br> </p><p>回來的 path 是看 dst ip 所決定的，而回來的 dst ip 也就是出去的 source <br> ip。而這件事情，不屬於 kernel 管的，是 application 管的，也就是說，你必 <br> 須修改 squid 的 source code，讓他決定要走 ADSL 線路的時候，source IP 變 <br> 成 HiNet 給你的 IP，這樣的話回來就會走 HiNet 的出國線路。 <br> </p><p>然後，另外一個問題在於，如果今天 HiNet 的 ADSL 斷掉了，因為你的 Default <br> Gateway 設到 HiNet ADSL Gateway 去，所以你整個 proxy 就癱瘓了。 <br> </p><p>我們提到的 <b style="color: black; background-color: rgb(255, 255, 102);">ipfw</b> 就是在解決這個問題：送出去的封包依據 source IP 決定要怎 <br> 麼走。 <br> </p><p>所以在最理想的狀況下 (改 source code，同時加上 <b style="color: black; background-color: rgb(255, 255, 102);">ipfw</b> 的設定)，會變成這樣： <br> </p><p>(過去) <br> 140.113.54.13 -&gt; 140.113.54.254 -&gt; ... (交大校內 Backbone) ... -&gt; NCTU <br> 211.72.48.2 -&gt; 211.72.48.1 -&gt; ... (HiNet's Backbone) ... -&gt; Google <br> </p><p>(回來) <br> NCTU -&gt; ... (交大校內 Backbone) ... -&gt; 140.113.54.254 -&gt; 140.113.54.13 <br> Google -&gt; ... (HiNet's Backbone) ... -&gt; 211.72.48.1 -&gt; 211.72.48.2 <br> </p><p>-- <br> * Gea-Suan Lin  (public key: <a target="_blank" href="http://infomath.nctu.edu.tw/%7Egslin/key.txt">http://infomath.nctu.edu.tw/~<b style="color: black; background-color: rgb(160, 255, 255);">gslin</b>/key.txt</a>) <br> * If you cannot convince them, confuse them.           -- Harry S Truman <br>
  </p></div>
  <div>
  <p>
  <a class="nu" target="_top" href="http://groups.google.com/group/tw.bbs.comp.386bsd/post?hl=zh-TW&amp;inreplyto=e724a84e1ee2158c&amp;_done=%2Fgroup%2Ftw.bbs.comp.386bsd%2Fmsg%2Fe724a84e1ee2158c%3Fq%3Dipfw+gslin+policy+route%26hl%3Dzh-TW%26rnum%3D1%26&amp;"><script language="javascript1.2"><!--
  document.write("<img id=tie724a84e1ee2158c border=0 src=\"/groups/img/r.gif\" height=11 width=11 alt=\"\">");
  //--></script><img id="tie724a84e1ee2158c" src="2r_files/r.gif" alt="" border="0" height="11" width="11"><span style="text-decoration: underline;">回覆</span></a>
  </p></div>
  </div>
  </td></tr></tbody></table>
  </div>
  <table border="0" cellpadding="0" cellspacing="0"></table>
  </div>
<br clear="all">
<table cellpadding="0" cellspacing="0" width="100%">
<tbody><tr><td bgcolor="#ffcc33"><img src="2r_files/dot_clear.gif" height="1"></td></tr>
</tbody></table>
<table border="0" cellpadding="4" cellspacing="0" width="100%">
  <tbody><tr valign="center">
  <td style="padding-right: 1em;" align="center"><font size="-1"> <a href="http://www.google.com/webhp?hl=zh-TW">Google 首頁</a> - <a href="http://groups.google.com/intl/zh-TW/googlegroups/terms_of_service.html">服務條款</a> - <a href="http://groups.google.com/intl/zh-TW/googlegroups/privacy.html">隱私權政策</a></font></td>
  </tr>
</tbody></table>
<p align="center"><font size="-2">©2006 Google</font></p>
<script language="javascript"><!--

if( loaddef != "" ) {
  window.onload=new Function( loaddef );
}
if( resizedef != "" ) {
  window.onresize = new Function( resizedef );
}
//--></script>
</div></body></html>